(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,t,a){e.exports=a(61)},60:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(29),s=a.n(l),o=a(10),c=a(11),i=a(13),u=a(12),m=a(14),d=a(7),p=a(1),f=function(){var e=Object(p.h)(),t=Object(p.g)(),a=Object(n.useState)(""),l=Object(d.a)(a,2),s=l[0],o=l[1];return Object(n.useEffect)(function(){o(e.pathname)}),r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar navbar-light bg-light"},r.a.createElement("li",{className:"navbar-brand",href:"#",onClick:s.includes("login")?null:function(){localStorage.clear(),t.push("/login")}},s.includes("login")?"Welcome":"Logout")))},h=a(3),E=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return localStorage.getItem("user")?r.a.createElement(n.Fragment,null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(h.b,{to:"/users"},"Users")),r.a.createElement("li",null,r.a.createElement(h.b,{to:"/posts"},"Posts")))):r.a.createElement(p.a,{to:"/login"})}}]),t}(n.Component),b=a(31),g=a(32),v=a.n(g),w="https://jsonplaceholder.typicode.com";function j(e){return v()("".concat(w,"/").concat(e),{method:"GET",headers:{"content-type":"application/json"}}).then(function(e){return e.data}).catch(function(e){throw e})}var O=function(e){var t=e.formErrors;return r.a.createElement("div",{className:"formErrors"},Object.keys(t).map(function(e,a){return t[e].length>0?r.a.createElement("p",{key:a},e," ",t[e]):""}))},y=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",formErrors:{email:"",password:""},emailValid:!1,passwordValid:!1,formValid:!1,users:[]},a.handleUserInput=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(b.a)({},t,n),function(){a.validateField(t,n)})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;j("users").then(function(t){e.setState({users:t},function(){console.log(e.state.users)})})}},{key:"validateField",value:function(e,t){var a=this.state.formErrors,n=this.state.emailValid,r=this.state.passwordValid;switch(e){case"email":n=t.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i),a.email=n?"":" is invalid";break;case"password":r=t.length>=2,a.password=r?"":" is too short"}this.setState({formErrors:a,emailValid:n,passwordValid:r},this.validateForm)}},{key:"validateForm",value:function(){this.setState({formValid:this.state.emailValid&&this.state.passwordValid})}},{key:"errorClass",value:function(e){return 0===e.length?"":"has-error"}},{key:"login",value:function(e){var t=this;e.preventDefault();var a=this.state.users.find(function(e){return e.email===t.state.email});a?this.setState({emailValid:!0},function(){a.username!==t.state.password?t.setState({formErrors:{password:"Password is wrong!",email:""},passwordValid:!1}):t.setState({passwordValid:!0},function(){t.state.emailValid&&t.state.passwordValid&&(localStorage.setItem("user",t.state.password),t.props.history.push("/carlzeiss-task"))})}):this.setState({formErrors:{email:"Email does not exist!",password:""},passwordValid:!1})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputEmail1"},"Email address"),r.a.createElement("input",{type:"email",className:"form-control ".concat(this.errorClass(this.state.formErrors.email)),name:"email",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter email",value:this.state.email,onChange:function(t){return e.handleUserInput(t)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Password"),r.a.createElement("input",{type:"password",className:"form-control ".concat(this.errorClass(this.state.formErrors.password)),id:"exampleInputPassword1",name:"password",placeholder:"Password",value:this.state.password,onChange:function(t){return e.handleUserInput(t)}})),r.a.createElement(O,{formErrors:this.state.formErrors}),r.a.createElement("button",{onClick:function(t){return e.login(t)},className:"btn btn-primary",disabled:!this.state.formValid},"Sign up")))}}]),t}(n.Component),N=function(e){var t=e.blog;return r.a.createElement("div",null,r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},r.a.createElement(h.b,{to:"posts/".concat(t.id)},t.title))))))},S=function(e){var t=Object(n.useState)(""),a=Object(d.a)(t,2),l=a[0],s=a[1];return r.a.createElement(n.Fragment,null,r.a.createElement("input",{type:"text",className:"text-center margin-b border-n border-r",placeholder:"Search by ".concat(e.placeholder),value:l,onChange:function(t){return function(t){s(t.target.value),e.onChangeHandle(t.target.value)}(t)}}))},k=function(){if(!localStorage.getItem("user"))return r.a.createElement(p.a,{to:"/login"});var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],l=t[1],s=Object(n.useState)(""),o=Object(d.a)(s,2),c=o[0],i=o[1];Object(n.useEffect)(function(){j("posts").then(function(e){l(e)})},[]);return r.a.createElement("div",null,r.a.createElement("h1",{className:"text-center"},"Posts"),r.a.createElement(S,{onChangeHandle:function(e){i(e)},placeholder:"title"}),a.length>0?a.filter(function(e){return e.title.toLowerCase().includes(c.toLowerCase())}).map(function(e){return r.a.createElement(N,{key:e.id,blog:e})}):r.a.createElement("p",null,"No Blogs Found!"))},C=function(e){var t=e.user;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},t.name))))},V=function(){if(!localStorage.getItem("user"))return r.a.createElement(p.a,{to:"/login"});var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],l=t[1],s=Object(n.useState)(""),o=Object(d.a)(s,2),c=o[0],i=o[1];Object(n.useEffect)(function(){j("users").then(function(e){l(e)})},[]);return r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"text-center"},"Users"),r.a.createElement(S,{onChangeHandle:function(e){i(e)},placeholder:"user name"}),a.length>0?a.filter(function(e){return e.name.toLowerCase().includes(c.toLowerCase())}).map(function(e){return r.a.createElement(C,{key:e.id,user:e})}):r.a.createElement("p",null,"No Users Found!"))},I=function(e){var t=Object(n.useState)({}),a=Object(d.a)(t,2),l=a[0],s=a[1];return localStorage.getItem("user")?(Object(n.useEffect)(function(){var t=e.match.params.blogId;j("posts/".concat(t)).then(function(e){s(e)})},[]),r.a.createElement("div",{className:"panel panel-default margin-t border-r-5"},r.a.createElement("div",{className:"panel-heading padding-10 border-t-rl"},l.title),r.a.createElement("div",{className:"panel-body padding-10"},l.body))):r.a.createElement(p.a,{to:"/login"})},x=function(){var e=Object(p.g)();return r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-primary",onClick:function(){e.push("/login")}},"Login"))},F=(a(60),function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(h.a,null,r.a.createElement("div",{className:"App container"},r.a.createElement(f,null),r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/carlzeiss-task",component:E}),r.a.createElement(p.b,{path:"/login",component:y}),r.a.createElement(p.b,{exact:!0,path:"/posts",component:k}),r.a.createElement(p.b,{exact:!0,path:"/users",component:V}),r.a.createElement(p.b,{path:"/posts/:blogId",component:I}),r.a.createElement(p.b,{component:x}))))}}]),t}(n.Component));s.a.render(r.a.createElement(F,null),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.4c8d048a.chunk.js.map